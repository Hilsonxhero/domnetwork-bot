import{d as U,r as _,o as E,c as l,l as h,i as e,g as s,w as a,A as y,f as r,j as n,F as L,m as T,t as u,e as m,p as f}from"./app-5f0513f2.js";const q={class:"flex justify-between mb-12 items-center"},z=e("h2",{class:"text-xl"},"لیست سرویس ها",-1),G=e("thead",null,[e("tr",null,[e("th",{class:"text-right"},"سرور"),e("th",{class:"text-right"},"بازه زمانی"),e("th",{class:"text-right"},"پکیج"),e("th",{class:"text-right"},"قیمت"),e("th",{class:"text-right"},"وضعیت"),e("th",{class:"text-right"},"عملیات")])],-1),H={class:"whitespace-nowrap"},I={class:"whitespace-nowrap"},J={class:"whitespace-nowrap"},K={class:"whitespace-nowrap"},O={class:"whitespace-nowrap"},P={class:"flex items-center"},X=U({__name:"index",setup(Q){const d=_(!1),p=_(!1),x=_([]),g=_(null),w=async()=>{const{data:o}=await y.get("/api/panel/services");x.value=o.data},C=o=>{d.value=!0,g.value=o},B=async()=>{const{data:o}=await y.delete(`/api/panel/services/${g.value.id}`);o.status==200&&(d.value=!1,w(),p.value=!0)};return E(()=>{w()}),(o,c)=>{const i=l("v-btn"),v=l("v-chip"),D=l("v-table"),N=l("v-card-title"),S=l("v-card-text"),$=l("v-spacer"),j=l("v-card-actions"),A=l("v-card"),F=l("v-dialog"),M=l("v-snackbar");return r(),h("div",null,[e("div",q,[z,s(i,{to:{name:"panel-services-create"},color:"blue-accent-2"},{default:a(()=>[n(" ایجاد سرویس ")]),_:1})]),s(D,{"fixed-header":"",height:"700px"},{default:a(()=>[G,e("tbody",null,[(r(!0),h(L,null,T(x.value,t=>{var k,b,V;return r(),h("tr",{key:t.name},[e("td",null,[e("div",H,u((k=t.server)==null?void 0:k.name),1)]),e("td",null,[e("div",I,u((b=t.package_duration)==null?void 0:b.name),1)]),e("td",null,[e("div",J,u((V=t.package)==null?void 0:V.name),1)]),e("td",null,[e("div",K,u(t.price)+" تومان ",1)]),e("td",null,[e("div",O,[t.status=="active"?(r(),m(v,{key:0,color:"green","text-color":"white"},{default:a(()=>[n(" فعال ")]),_:1})):f("",!0),t.status=="purchased"?(r(),m(v,{key:1,color:"warning","text-color":"white"},{default:a(()=>[n(" خریداری شده ")]),_:1})):f("",!0),t.status=="inactive"?(r(),m(v,{key:2,color:"green","text-color":"white"},{default:a(()=>[n(" غیرفعال ")]),_:1})):f("",!0)])]),e("td",null,[e("div",P,[s(i,{to:{name:"panel-services-edit",params:{id:t.id}},"prepend-icon":"mdi-pencil-box-outline"},{default:a(()=>[n(" ویرایش ")]),_:2},1032,["to"]),s(i,{onClick:R=>C(t),"prepend-icon":"mdi-trash-can-outline",class:"mr-4"},{default:a(()=>[n(" حذف ")]),_:2},1032,["onClick"])])])])}),128))])]),_:1}),s(F,{modelValue:d.value,"onUpdate:modelValue":c[1]||(c[1]=t=>d.value=t),persistent:"",width:"350px"},{default:a(()=>[s(A,null,{default:a(()=>[s(N,{class:""},{default:a(()=>[n(" آیا از حذف این آیتم اطمینان دارید؟ ")]),_:1}),s(S,null,{default:a(()=>[n("آیا از حذف این آیتم اطمینان دارید؟")]),_:1}),s(j,null,{default:a(()=>[s($),s(i,{color:"green-darken-1",variant:"text",onClick:c[0]||(c[0]=t=>d.value=!1)},{default:a(()=>[n(" نه ")]),_:1}),s(i,{color:"green-darken-1",onClick:B},{default:a(()=>[n(" بله ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(M,{modelValue:p.value,"onUpdate:modelValue":c[2]||(c[2]=t=>p.value=t),timeout:2e3},{default:a(()=>[n(" سرویس با موفقیت حذف شد. ")]),_:1},8,["modelValue"])])}}});export{X as default};

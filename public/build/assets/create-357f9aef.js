import{d as k,r as t,u as w,n as y,o as C,c as n,l as R,g as e,w as s,f as B,h as m,q as E,i as l,v as F,x as N,E as q,j as f,A}from"./app-585073a5.js";const D=l("div",{class:"mb-6"},[l("h2",{class:"text-xl"},"ایجاد پلتفرم")],-1),M={class:"grid grid-cols-12 gap-4"},S={class:"col-span-12"},U={class:"invalid-feedback d-block"},P=k({__name:"create",setup(j){const v=t(!1),_=t(null),u=t({name:null}),i=t(!1);t([r=>r?!0:"نام   پلتفرم  الزامی می باشد"]),t([{state:"فعال",value:"active"},{state:"غیرفعال",value:"inactive"}]);const p=w();y();const b=async r=>{const{valid:a}=await _.value.validate();if(a){v.value=!0;const o=new FormData;o.append("name",u.value.name);const{data:d}=await A.post("/api/panel/guide/platforms",o);d.status==200&&(i.value=!0,p.push({name:"panel-platforms-index"}))}},g=async()=>{};return C(()=>{g()}),(r,a)=>{const o=n("v-text-field"),d=n("v-btn"),h=n("v-sheet"),x=n("v-snackbar");return B(),R("div",null,[e(h,null,{default:s(()=>[D,e(m(E),{ref_key:"formRef",ref:_,onSubmit:b},{default:s(()=>[l("div",M,[l("div",S,[e(m(F),{mode:"passive",name:"name",rules:"required",label:" نام پلتفرم"},{default:s(({field:c})=>[e(o,N({modelValue:u.value.name,"onUpdate:modelValue":a[0]||(a[0]=V=>u.value.name=V),label:"نام پلتفرم","single-line":"",variant:"solo-filled",size:"large"},c,{"hide-details":"auto"}),null,16,["modelValue"])]),_:1}),l("div",U,[e(m(q),{name:"name"})])])]),e(d,{loading:v.value,color:"light-blue-accent-4",type:"submit",block:"",class:"mt-2"},{default:s(()=>[f("ایجاد")]),_:1},8,["loading"])]),_:1},512)]),_:1}),e(x,{absolute:"",modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=c=>i.value=c),timeout:2e4},{default:s(()=>[f(" پلتفرم با موفقیت ایجاد شد. ")]),_:1},8,["modelValue"])])}}});export{P as default};

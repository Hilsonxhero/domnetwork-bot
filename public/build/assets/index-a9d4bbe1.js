import{d as I,r as _,o as L,c as l,l as h,g as s,w as t,h as C,A as B,f as d,i as e,j as n,F as T,m as q,t as u,e as m,n as f}from"./app-fa5d0039.js";import{a as z,B as G}from"./index-db91f07a.js";const H={class:"grid grid-cols-12 gap-4"},J={class:"col-span-12 lg:col-span-12"},K={class:"flex justify-between mb-12 items-center"},O=e("h2",{class:"text-xl"},"لیست سرویس ها",-1),P=e("thead",null,[e("tr",null,[e("th",{class:"text-right"},"سرور"),e("th",{class:"text-right"},"بازه زمانی"),e("th",{class:"text-right"},"پکیج"),e("th",{class:"text-right"},"قیمت"),e("th",{class:"text-right"},"وضعیت"),e("th",{class:"text-right"},"عملیات")])],-1),Q={class:"whitespace-nowrap"},R={class:"whitespace-nowrap"},W={class:"whitespace-nowrap"},X={class:"whitespace-nowrap"},Y={class:"whitespace-nowrap"},Z={class:"flex items-center"},ne=I({__name:"index",setup(ee){const g=_(!0),r=_(!1),p=_(!1),x=_([]),w=_(null),k=async()=>{const{data:o}=await B.get("/api/panel/services");x.value=o.data,g.value=!1},S=o=>{r.value=!0,w.value=o},D=async()=>{const{data:o}=await B.delete(`/api/panel/services/${w.value.id}`);o.status==200&&(r.value=!1,k(),p.value=!0)};return L(()=>{k()}),(o,c)=>{const i=l("v-btn"),v=l("v-chip"),N=l("v-table"),$=l("v-card-title"),j=l("v-card-text"),A=l("v-spacer"),F=l("v-card-actions"),M=l("v-card"),U=l("v-dialog"),E=l("v-snackbar");return d(),h("div",null,[s(C(G),{animated:"",loading:g.value},{template:t(()=>[e("div",H,[e("div",J,[s(C(z),{variant:"card",class:"h-[300px]"})])])]),default:t(()=>[e("div",K,[O,s(i,{to:{name:"panel-services-create"},color:"blue-accent-2"},{default:t(()=>[n(" ایجاد سرویس ")]),_:1})]),s(N,{"fixed-header":"",height:"700px"},{default:t(()=>[P,e("tbody",null,[(d(!0),h(T,null,q(x.value,a=>{var b,V,y;return d(),h("tr",{key:a.name},[e("td",null,[e("div",Q,u((b=a.server)==null?void 0:b.name),1)]),e("td",null,[e("div",R,u((V=a.package_duration)==null?void 0:V.name),1)]),e("td",null,[e("div",W,u((y=a.package)==null?void 0:y.name),1)]),e("td",null,[e("div",X,u(a.price)+" تومان ",1)]),e("td",null,[e("div",Y,[a.status=="active"?(d(),m(v,{key:0,color:"green","text-color":"white"},{default:t(()=>[n(" فعال ")]),_:1})):f("",!0),a.status=="purchased"?(d(),m(v,{key:1,color:"warning","text-color":"white"},{default:t(()=>[n(" خریداری شده ")]),_:1})):f("",!0),a.status=="inactive"?(d(),m(v,{key:2,color:"green","text-color":"white"},{default:t(()=>[n(" غیرفعال ")]),_:1})):f("",!0)])]),e("td",null,[e("div",Z,[s(i,{to:{name:"panel-services-edit",params:{id:a.id}},"prepend-icon":"mdi-pencil-box-outline"},{default:t(()=>[n(" ویرایش ")]),_:2},1032,["to"]),s(i,{onClick:te=>S(a),"prepend-icon":"mdi-trash-can-outline",class:"mr-4"},{default:t(()=>[n(" حذف ")]),_:2},1032,["onClick"])])])])}),128))])]),_:1})]),_:1},8,["loading"]),s(U,{modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=a=>r.value=a),persistent:"",width:"350px"},{default:t(()=>[s(M,null,{default:t(()=>[s($,{class:""},{default:t(()=>[n(" آیا از حذف این آیتم اطمینان دارید؟ ")]),_:1}),s(j,null,{default:t(()=>[n("آیا از حذف این آیتم اطمینان دارید؟")]),_:1}),s(F,null,{default:t(()=>[s(A),s(i,{color:"green-darken-1",variant:"text",onClick:c[0]||(c[0]=a=>r.value=!1)},{default:t(()=>[n(" نه ")]),_:1}),s(i,{color:"green-darken-1",onClick:D},{default:t(()=>[n(" بله ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(E,{modelValue:p.value,"onUpdate:modelValue":c[2]||(c[2]=a=>p.value=a),timeout:2e3},{default:t(()=>[n(" سرویس با موفقیت حذف شد. ")]),_:1},8,["modelValue"])])}}});export{ne as default};

import{d as U,r as n,u as R,p as C,q as N,o as A,c as u,l as D,g as t,w as l,h as _,A as g,f as E,i as d,v as F,j as V}from"./app-f7aafb9b.js";import{a as $,B as j}from"./index-95bf06ac.js";const q={class:"grid grid-cols-12 gap-4"},I={class:"col-span-12 lg:col-span-12"},M=d("div",{class:"mb-6"},[d("h2",{class:"text-xl"},"ویرایش سرور")],-1),T=d("div",null,"وضعیت",-1),z=d("div",null,"سرور پیش فرض",-1),K=U({__name:"edit",setup(G){const m=n(!0),p=n(!1),r=n(null),e=n({name:null,is_active:!1,is_default:!1}),v=n(!1),x=n([s=>s?!0:"نام  سرور  الزامی می باشد"]),h=R(),f=C(),k=async s=>{p.value=!0;const a=new FormData;a.append("name",e.value.name),a.append("is_active",e.value.is_active),a.append("is_default",e.value.is_default);const{data:c}=await g.put(`/api/panel/servers/${f.params.id}`,a);c.status==200&&(v.value=!0,h.push({name:"panel-servers-index"}))},w=async()=>{const{data:s}=await g.get(`/api/panel/servers/${f.params.id}`);e.value.name=s.data.name,e.value.is_active=s.data.is_active.toString(),e.value.is_default=s.data.is_default.toString(),m.value=!1};return N(()=>{r.value&&r.value.setValues({...e.value})}),A(()=>{w()}),(s,a)=>{const c=u("v-text-field"),i=u("v-radio"),b=u("v-radio-group"),B=u("v-btn"),S=u("v-sheet"),y=u("v-snackbar");return E(),D("div",null,[t(_(j),{animated:"",loading:m.value},{template:l(()=>[d("div",q,[d("div",I,[t(_($),{variant:"card",class:"h-[500px]"})])])]),default:l(()=>[t(S,null,{default:l(()=>[M,t(_(F),{ref_key:"formRef",ref:r,onSubmit:k},{default:l(()=>[t(c,{modelValue:e.value.name,"onUpdate:modelValue":a[0]||(a[0]=o=>e.value.name=o),rules:x.value,label:"نام",density:"compact","single-line":"",variant:"solo"},null,8,["modelValue","rules"]),t(b,{modelValue:e.value.is_active,"onUpdate:modelValue":a[1]||(a[1]=o=>e.value.is_active=o)},{label:l(()=>[T]),default:l(()=>[t(i,{label:"فعال",value:"1"}),t(i,{label:"غیرفعال",value:"0"})]),_:1},8,["modelValue"]),t(b,{modelValue:e.value.is_default,"onUpdate:modelValue":a[2]||(a[2]=o=>e.value.is_default=o)},{label:l(()=>[z]),default:l(()=>[t(i,{label:"می باشد",value:"1"}),t(i,{label:"نمی باشد",value:"0"})]),_:1},8,["modelValue"]),t(B,{loading:p.value,color:"light-blue-accent-4",type:"submit",block:"",class:"mt-2"},{default:l(()=>[V("ویرایش")]),_:1},8,["loading"])]),_:1},512)]),_:1})]),_:1},8,["loading"]),t(y,{absolute:"",modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=o=>v.value=o),timeout:2e4},{default:l(()=>[V(" سرور با موفقیت ویرایش شد. ")]),_:1},8,["modelValue"])])}}});export{K as default};

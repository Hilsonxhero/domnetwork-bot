import{d as F,r as _,n as M,o as U,c as l,l as v,i as e,g as n,w as a,h as g,A as w,f as i,j as s,F as E,m as L,t as R,e as b,p as k}from"./app-19e5455c.js";const T={class:"flex justify-between mb-12 items-center"},q=e("h2",{class:"text-xl"},"لیست برنامه ها",-1),z=e("thead",null,[e("tr",null,[e("th",{class:"text-right"},"نام"),e("th",{class:"text-right"},"ویدیو"),e("th",{class:"text-right"},"وضعیت"),e("th",{class:"text-right"},"عملیات")])],-1),G={class:"whitespace-nowrap"},H={class:"whitespace-nowrap"},I=["href"],J={class:"whitespace-nowrap"},K={class:"flex items-center"},W=F({__name:"index",setup(O){const d=_(!1),p=_(!1),u=M(),f=_([]),m=_(null),h=async()=>{const{data:o}=await w.get(`/api/panel/guide/platform/${u.params.id}/clients`);f.value=o.data},V=o=>{d.value=!0,m.value=o},y=async()=>{const{data:o}=await w.delete(`/api/panel/guide/platform/${u.params.id}/clients/${m.value.id}`);o.status==200&&(d.value=!1,h(),p.value=!0)};return U(()=>{h()}),(o,c)=>{const r=l("v-btn"),x=l("v-chip"),C=l("v-table"),$=l("v-card-title"),B=l("v-card-text"),D=l("v-spacer"),N=l("v-card-actions"),S=l("v-card"),j=l("v-dialog"),A=l("v-snackbar");return i(),v("div",null,[e("div",T,[q,n(r,{to:{name:"panel-platforms-clients-create",params:{id:g(u).params.id}},color:"blue-accent-2"},{default:a(()=>[s(" ایجاد برنامه ")]),_:1},8,["to"])]),n(C,{"fixed-header":"",height:"700px"},{default:a(()=>[z,e("tbody",null,[(i(!0),v(E,null,L(f.value,t=>(i(),v("tr",{key:t.name},[e("td",null,[e("div",G,R(t==null?void 0:t.name),1)]),e("td",null,[e("div",H,[e("a",{class:"text-blue-500",target:"_blank",href:t==null?void 0:t.video},"نمایش ویدیو",8,I)])]),e("td",null,[e("div",J,[t.status=="active"?(i(),b(x,{key:0,color:"green","text-color":"white"},{default:a(()=>[s(" فعال ")]),_:1})):k("",!0),t.status=="inactive"?(i(),b(x,{key:1,color:"warning","text-color":"white"},{default:a(()=>[s(" غیرفعال ")]),_:1})):k("",!0)])]),e("td",null,[e("div",K,[n(r,{to:{name:"panel-platforms-clients-edit",params:{platform:g(u).params.id,id:t.id}},"prepend-icon":"mdi-pencil-box-outline"},{default:a(()=>[s(" ویرایش ")]),_:2},1032,["to"]),n(r,{onClick:P=>V(t),"prepend-icon":"mdi-trash-can-outline",class:"mr-4"},{default:a(()=>[s(" حذف ")]),_:2},1032,["onClick"])])])]))),128))])]),_:1}),n(j,{modelValue:d.value,"onUpdate:modelValue":c[1]||(c[1]=t=>d.value=t),persistent:"",width:"350px"},{default:a(()=>[n(S,null,{default:a(()=>[n($,{class:""},{default:a(()=>[s(" آیا از حذف این آیتم اطمینان دارید؟ ")]),_:1}),n(B,null,{default:a(()=>[s("آیا از حذف این آیتم اطمینان دارید؟")]),_:1}),n(N,null,{default:a(()=>[n(D),n(r,{color:"green-darken-1",variant:"text",onClick:c[0]||(c[0]=t=>d.value=!1)},{default:a(()=>[s(" نه ")]),_:1}),n(r,{color:"green-darken-1",onClick:y},{default:a(()=>[s(" بله ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(A,{modelValue:p.value,"onUpdate:modelValue":c[2]||(c[2]=t=>p.value=t),timeout:2e3},{default:a(()=>[s(" برنامه با موفقیت حذف شد. ")]),_:1},8,["modelValue"])])}}});export{W as default};

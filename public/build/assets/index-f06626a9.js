import{d as j,r as u,o as A,c as o,l as p,i as n,g as a,w as e,A as x,f as i,j as l,F,m as M,t as U,e as g,p as b}from"./app-585073a5.js";const E={class:"flex justify-between mb-12 items-center"},L=n("h2",{class:"text-xl"},"لیست پلتفرم ها",-1),T=n("thead",null,[n("tr",null,[n("th",{class:"text-right"},"نام"),n("th",{class:"text-right"},"وضعیت"),n("th",{class:"text-right"},"عملیات")])],-1),q={class:"whitespace-nowrap"},z={class:"whitespace-nowrap"},G={class:"flex items-center"},K=j({__name:"index",setup(H){const r=u(!1),_=u(!1),v=u([]),m=u(null),f=async()=>{const{data:s}=await x.get("/api/panel/guide/platforms");v.value=s.data},k=s=>{r.value=!0,m.value=s},w=async()=>{const{data:s}=await x.delete(`/api/panel/guide/platforms/${m.value.id}`);s.status==200&&(r.value=!1,f(),_.value=!0)};return A(()=>{f()}),(s,c)=>{const d=o("v-btn"),h=o("v-chip"),V=o("v-table"),y=o("v-card-title"),C=o("v-card-text"),B=o("v-spacer"),D=o("v-card-actions"),N=o("v-card"),S=o("v-dialog"),$=o("v-snackbar");return i(),p("div",null,[n("div",E,[L,a(d,{to:{name:"panel-platforms-create"},color:"blue-accent-2"},{default:e(()=>[l(" ایجاد پلتفرم ")]),_:1})]),a(V,{"fixed-header":"",height:"700px"},{default:e(()=>[T,n("tbody",null,[(i(!0),p(F,null,M(v.value,t=>(i(),p("tr",{key:t.name},[n("td",null,[n("div",q,U(t==null?void 0:t.name),1)]),n("td",null,[n("div",z,[t.status=="active"?(i(),g(h,{key:0,color:"green","text-color":"white"},{default:e(()=>[l(" فعال ")]),_:1})):b("",!0),t.status=="purchased"?(i(),g(h,{key:1,color:"warning","text-color":"white"},{default:e(()=>[l(" خریداری شده ")]),_:1})):b("",!0)])]),n("td",null,[n("div",G,[a(d,{to:{name:"panel-platforms-clients-index",params:{id:t.id}},"prepend-icon":"mdi-pencil-box-outline"},{default:e(()=>[l(" برنامه ها ")]),_:2},1032,["to"]),a(d,{to:{name:"panel-platforms-edit",params:{id:t.id}},"prepend-icon":"mdi-pencil-box-outline",class:"mr-4"},{default:e(()=>[l(" ویرایش ")]),_:2},1032,["to"]),a(d,{onClick:I=>k(t),"prepend-icon":"mdi-trash-can-outline",class:"mr-4"},{default:e(()=>[l(" حذف ")]),_:2},1032,["onClick"])])])]))),128))])]),_:1}),a(S,{modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=t=>r.value=t),persistent:"",width:"350px"},{default:e(()=>[a(N,null,{default:e(()=>[a(y,{class:""},{default:e(()=>[l(" آیا از حذف این آیتم اطمینان دارید؟ ")]),_:1}),a(C,null,{default:e(()=>[l("آیا از حذف این آیتم اطمینان دارید؟")]),_:1}),a(D,null,{default:e(()=>[a(B),a(d,{color:"green-darken-1",variant:"text",onClick:c[0]||(c[0]=t=>r.value=!1)},{default:e(()=>[l(" نه ")]),_:1}),a(d,{color:"green-darken-1",onClick:w},{default:e(()=>[l(" بله ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a($,{modelValue:_.value,"onUpdate:modelValue":c[2]||(c[2]=t=>_.value=t),timeout:2e3},{default:e(()=>[l(" پلتفرم با موفقیت حذف شد. ")]),_:1},8,["modelValue"])])}}});export{K as default};

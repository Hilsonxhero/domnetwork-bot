import{d as R,r as i,u as U,n as B,o as N,c as s,l as S,g as e,w as l,A as p,f as A,k as D,j as f,i as d}from"./app-5f0513f2.js";const M=d("div",{class:"mb-6"},[d("h2",{class:"text-xl"},"ایجاد سرور")],-1),j=d("div",null,"وضعیت",-1),E=d("div",null,"سرور پیش فرض",-1),$=R({__name:"create",setup(F){const m=i(!1),_=i(null),t=i({name:null,is_active:"1",is_default:"0"}),r=i(!1),b=i([v=>v?!0:"نام  سرور  الزامی می باشد"]),V=U(),g=B(),x=async v=>{const{valid:a}=await _.value.validate();if(a){m.value=!0;const n=new FormData;n.append("name",t.value.name),n.append("is_active",t.value.is_active),n.append("is_default",t.value.is_default);const{data:u}=await p.post("/api/panel/servers",n);u.status==200&&(r.value=!0,V.push({name:"panel-servers-index"}))}},k=async()=>{await p.get(`/api/panel/servers/${g.params.id}`)};return N(()=>{k()}),(v,a)=>{const n=s("v-text-field"),u=s("v-radio"),c=s("v-radio-group"),w=s("v-btn"),h=s("v-form"),y=s("v-sheet"),C=s("v-snackbar");return A(),S("div",null,[e(y,null,{default:l(()=>[M,e(h,{ref_key:"formRef",ref:_,"validate-on":"submit",onSubmit:D(x,["prevent"])},{default:l(()=>[e(n,{modelValue:t.value.name,"onUpdate:modelValue":a[0]||(a[0]=o=>t.value.name=o),rules:b.value,label:"نام",density:"compact","single-line":"",variant:"solo"},null,8,["modelValue","rules"]),e(c,{modelValue:t.value.is_active,"onUpdate:modelValue":a[1]||(a[1]=o=>t.value.is_active=o)},{label:l(()=>[j]),default:l(()=>[e(u,{label:"فعال",value:"1"}),e(u,{label:"غیرفعال",value:"0"})]),_:1},8,["modelValue"]),e(c,{modelValue:t.value.is_default,"onUpdate:modelValue":a[2]||(a[2]=o=>t.value.is_default=o)},{label:l(()=>[E]),default:l(()=>[e(u,{label:"می باشد",value:"1"}),e(u,{label:"نمی باشد",value:"0"})]),_:1},8,["modelValue"]),e(w,{loading:m.value,color:"light-blue-accent-4",type:"submit",block:"",class:"mt-2"},{default:l(()=>[f("ایجاد")]),_:1},8,["loading"])]),_:1},8,["onSubmit"])]),_:1}),e(C,{absolute:"",modelValue:r.value,"onUpdate:modelValue":a[3]||(a[3]=o=>r.value=o),timeout:2e4},{default:l(()=>[f(" سرور با موفقیت ایجاد شد. ")]),_:1},8,["modelValue"])])}}});export{$ as default};

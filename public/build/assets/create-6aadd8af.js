import{d as R,r as u,u as B,n as N,o as S,c as t,l as U,g as a,w as s,A as m,f as A,k as D,i as l,j as p}from"./app-19e5455c.js";const M=l("div",{class:"mb-6"},[l("h2",{class:"text-xl"},"ایجاد پکیج")],-1),j={class:"grid grid-cols-12 gap-4"},E={class:"col-span-12"},F={class:"col-span-12"},T=l("div",null,"وضعیت",-1),z=R({__name:"create",setup($){const v=u(!1),_=u(null),o=u({name:null,is_active:"active"}),d=u(!1),f=u([r=>r?!0:"نام   پکیج  الزامی می باشد"]),b=B(),g=N(),V=async r=>{const{valid:e}=await _.value.validate();if(e){v.value=!0;const n=new FormData;n.append("name",o.value.name),n.append("is_active",o.value.is_active);const{data:c}=await m.post("/api/panel/packages",n);c.status==200&&(d.value=!0,b.push({name:"panel-packages-index"}))}},k=async()=>{await m.get(`/api/panel/packages/${g.params.id}`)};return S(()=>{k()}),(r,e)=>{const n=t("v-text-field"),c=t("v-radio"),h=t("v-radio-group"),x=t("v-btn"),w=t("v-form"),y=t("v-sheet"),C=t("v-snackbar");return A(),U("div",null,[a(y,null,{default:s(()=>[M,a(w,{ref_key:"formRef",ref:_,"validate-on":"submit",onSubmit:D(V,["prevent"])},{default:s(()=>[l("div",j,[l("div",E,[a(n,{modelValue:o.value.name,"onUpdate:modelValue":e[0]||(e[0]=i=>o.value.name=i),rules:f.value,label:"نام",density:"compact","single-line":"",variant:"solo"},null,8,["modelValue","rules"])]),l("div",F,[a(h,{modelValue:o.value.is_active,"onUpdate:modelValue":e[1]||(e[1]=i=>o.value.is_active=i)},{label:s(()=>[T]),default:s(()=>[a(c,{label:"فعال",value:"1"}),a(c,{label:"غیرفعال",value:"0"})]),_:1},8,["modelValue"])])]),a(x,{loading:v.value,color:"light-blue-accent-4",type:"submit",block:"",class:"mt-2"},{default:s(()=>[p("ایجاد")]),_:1},8,["loading"])]),_:1},8,["onSubmit"])]),_:1}),a(C,{absolute:"",modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=i=>d.value=i),timeout:2e4},{default:s(()=>[p(" پکیج با موفقیت ایجاد شد. ")]),_:1},8,["modelValue"])])}}});export{z as default};

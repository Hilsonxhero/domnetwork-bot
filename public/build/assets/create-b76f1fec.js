import{d as N,r as d,u as z,p as A,o as D,c as r,l as M,g as e,w as u,A as _,f as S,h as n,v as j,i as t,x as v,y as p,E as m,j as w}from"./app-05202554.js";const P=t("div",{class:"mb-6"},[t("h2",{class:"text-xl"},"ایجاد سرویس")],-1),T={class:"grid grid-cols-12 gap-4"},G={class:"col-span-12 lg:col-span-4"},H={class:"invalid-feedback d-block"},I={class:"col-span-12 lg:col-span-4"},J={class:"invalid-feedback d-block"},K={class:"col-span-12 lg:col-span-4"},L={class:"invalid-feedback d-block"},O={class:"col-span-12 lg:col-span-6"},Q={class:"col-span-12 lg:col-span-6"},W={class:"invalid-feedback d-block"},X={class:"col-span-12"},Y={class:"invalid-feedback d-block"},ee=N({__name:"create",setup(Z){const k=d(!1),b=d(null),a=d({server_id:null,package_duration_id:null,package_id:null,status:"active",price:null,link:null}),g=d(!1);d([c=>c?!0:"نام   سرویس  الزامی می باشد"]);const V=d([]),h=d([]),x=d([]),U=d([{state:"فعال",value:"active"},{state:"غیرفعال",value:"inactive"}]),y=z();A();const q=async c=>{const{valid:l}=await b.value.validate();if(l){k.value=!0;const s=new FormData;s.append("server_id",a.value.server_id),s.append("package_duration_id",a.value.package_duration_id),s.append("package_id",a.value.package_id),s.append("status",a.value.status),s.append("price",a.value.price),s.append("link",a.value.link);const{data:f}=await _.post("/api/panel/services",s);f.status==200&&(g.value=!0,y.push({name:"panel-services-index"}))}},C=async()=>{let{data:c}=await _.get("/api/panel/servers");V.value=c.data;let{data:l}=await _.get("/api/panel/package/durations");h.value=l.data;let{data:s}=await _.get("/api/panel/packages");x.value=s.data};return D(()=>{C()}),(c,l)=>{const s=r("v-select"),f=r("v-text-field"),R=r("v-textarea"),B=r("v-btn"),E=r("v-sheet"),F=r("v-snackbar");return S(),M("div",null,[e(E,null,{default:u(()=>[P,e(n(j),{ref_key:"formRef",ref:b,onSubmit:q},{default:u(()=>[t("div",T,[t("div",G,[e(n(v),{mode:"passive",name:"server_id",rules:"required",label:"سرور"},{default:u(({field:i})=>[e(s,p(i,{modelValue:a.value.server_id,"onUpdate:modelValue":l[0]||(l[0]=o=>a.value.server_id=o),label:"انتخاب  سرور",items:V.value,"item-title":"name","item-value":"id","single-line":"",variant:"solo-filled","hide-details":"auto"}),null,16,["modelValue","items"])]),_:1}),t("div",H,[e(n(m),{name:"server_id"})])]),t("div",I,[e(n(v),{mode:"passive",name:"package_duration_id",rules:"required",label:"بازه زمانی"},{default:u(({field:i})=>[e(s,p(i,{modelValue:a.value.package_duration_id,"onUpdate:modelValue":l[1]||(l[1]=o=>a.value.package_duration_id=o),label:"انتخاب  بازه زمانی",items:h.value,"item-title":"name","item-value":"id","single-line":"",variant:"solo-filled","hide-details":"auto"}),null,16,["modelValue","items"])]),_:1}),t("div",J,[e(n(m),{name:"package_duration_id"})])]),t("div",K,[e(n(v),{mode:"passive",name:"package_id",rules:"required",label:"بازه پکیج"},{default:u(({field:i})=>[e(s,p({modelValue:a.value.package_id,"onUpdate:modelValue":l[2]||(l[2]=o=>a.value.package_id=o),label:"انتخاب  پکیج",items:x.value,"item-title":"name","item-value":"id","single-line":"",variant:"solo-filled"},i,{"hide-details":"auto"}),null,16,["modelValue","items"])]),_:1}),t("div",L,[e(n(m),{name:"package_id"})])]),t("div",O,[e(s,{modelValue:a.value.status,"onUpdate:modelValue":l[3]||(l[3]=i=>a.value.status=i),label:"انتخاب  وضعیت",items:U.value,"item-title":"state","item-value":"value","single-line":"",variant:"solo-filled"},null,8,["modelValue","items"])]),t("div",Q,[e(n(v),{mode:"passive",name:"price",rules:"required",label:" قیمت"},{default:u(({field:i})=>[e(f,p({type:"number",modelValue:a.value.price,"onUpdate:modelValue":l[4]||(l[4]=o=>a.value.price=o),label:"قیمت","single-line":"",variant:"solo-filled",size:"large"},i,{"hide-details":"auto"}),null,16,["modelValue"])]),_:1}),t("div",W,[e(n(m),{name:"price"})])]),t("div",X,[e(n(v),{mode:"passive",name:"link",rules:"required",label:" لینک"},{default:u(({field:i})=>[e(R,p({modelValue:a.value.link,"onUpdate:modelValue":l[5]||(l[5]=o=>a.value.link=o),label:"لینک کانفیگ","single-line":"",variant:"solo-filled",size:"large"},i,{"hide-details":"auto"}),null,16,["modelValue"])]),_:1}),t("div",Y,[e(n(m),{name:"link"})])])]),e(B,{loading:k.value,color:"light-blue-accent-4",type:"submit",block:"",class:"mt-2"},{default:u(()=>[w("ایجاد")]),_:1},8,["loading"])]),_:1},512)]),_:1}),e(F,{absolute:"",modelValue:g.value,"onUpdate:modelValue":l[6]||(l[6]=i=>g.value=i),timeout:2e4},{default:u(()=>[w(" سرویس با موفقیت ایجاد شد. ")]),_:1},8,["modelValue"])])}}});export{ee as default};

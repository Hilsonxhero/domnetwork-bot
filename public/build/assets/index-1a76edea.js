import{d as $,r as u,o as A,c as o,l as m,h as e,g as a,w as t,A as g,f as s,i as l,F,m as M,t as U,e as v}from"./app-d865d607.js";const j={class:"flex justify-between mb-12 items-center"},E=e("h2",{class:"text-xl"},"لیست سرورها",-1),L=e("thead",null,[e("tr",null,[e("th",{class:"text-right"},"نام"),e("th",{class:"text-right"},"وضعیت"),e("th",{class:"text-right"},"پیش فرض"),e("th",{class:"text-right"},"عملیات")])],-1),T={class:"whitespace-nowrap"},q={class:"whitespace-nowrap"},z={class:"whitespace-nowrap"},G={class:"flex items-center"},K=$({__name:"index",setup(H){const r=u(!1),p=u(!1),f=u([]),h=u(null),x=async()=>{const{data:c}=await g.get("/api/panel/servers");f.value=c.data},w=c=>{r.value=!0,h.value=c},k=async()=>{const{data:c}=await g.delete(`/api/panel/servers/${h.value.id}`);c.success&&(r.value=!1,x(),p.value=!0)};return A(()=>{x()}),(c,d)=>{const i=o("v-btn"),_=o("v-chip"),b=o("v-table"),y=o("v-card-title"),V=o("v-card-text"),C=o("v-spacer"),B=o("v-card-actions"),D=o("v-card"),N=o("v-dialog"),S=o("v-snackbar");return s(),m("div",null,[e("div",j,[E,a(i,{to:{name:"panel-servers-create"},color:"blue-accent-2"},{default:t(()=>[l(" ایجاد سرور ")]),_:1})]),a(b,{"fixed-header":"",height:"700px"},{default:t(()=>[L,e("tbody",null,[(s(!0),m(F,null,M(f.value,n=>(s(),m("tr",{key:n.name},[e("td",null,[e("div",T,U(n.name),1)]),e("td",null,[e("div",q,[n.is_active?(s(),v(_,{key:0,color:"green","text-color":"white"},{default:t(()=>[l(" فعال ")]),_:1})):(s(),v(_,{key:1,color:"red","text-color":"white"},{default:t(()=>[l(" غیرفعال ")]),_:1}))])]),e("td",null,[e("div",z,[n.is_default?(s(),v(_,{key:0,color:"green","text-color":"white"},{default:t(()=>[l(" می باشد ")]),_:1})):(s(),v(_,{key:1,"text-color":"white"},{default:t(()=>[l(" نمی باشد ")]),_:1}))])]),e("td",null,[e("div",G,[a(i,{to:{name:"panel-servers-edit",params:{id:n.id}},"prepend-icon":"mdi-pencil-box-outline"},{default:t(()=>[l(" ویرایش ")]),_:2},1032,["to"]),a(i,{onClick:I=>w(n),"prepend-icon":"mdi-trash-can-outline",class:"mr-4"},{default:t(()=>[l(" حذف ")]),_:2},1032,["onClick"])])])]))),128))])]),_:1}),a(N,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=n=>r.value=n),persistent:"",width:"350px"},{default:t(()=>[a(D,null,{default:t(()=>[a(y,{class:""},{default:t(()=>[l(" آیا از حذف این آیتم اطمینان دارید؟ ")]),_:1}),a(V,null,{default:t(()=>[l("آیا از حذف این آیتم اطمینان دارید؟")]),_:1}),a(B,null,{default:t(()=>[a(C),a(i,{color:"green-darken-1",variant:"text",onClick:d[0]||(d[0]=n=>r.value=!1)},{default:t(()=>[l(" نه ")]),_:1}),a(i,{color:"green-darken-1",onClick:k},{default:t(()=>[l(" بله ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(S,{modelValue:p.value,"onUpdate:modelValue":d[2]||(d[2]=n=>p.value=n),timeout:2e3},{default:t(()=>[l(" سرور با موفقیت حذف شد. ")]),_:1},8,["modelValue"])])}}});export{K as default};

import{d as S,r as _,o as U,c as n,l as p,g as s,w as a,i as e,A as x,f as c,F as $,m as E,j as l,t as g,e as w,p as b}from"./app-19e5455c.js";const L=e("div",{class:"flex justify-between mb-12 items-center"},[e("h2",{class:"text-xl"},"لیست پیام های پشتیبانی")],-1),M=e("thead",null,[e("tr",null,[e("th",{class:"text-right"},"کاربر"),e("th",{class:"text-right"},"وضعیت"),e("th",{class:"text-right"},"زمان ایجاد"),e("th",{class:"text-right"},"عملیات")])],-1),T={class:"whitespace-nowrap"},q={class:"whitespace-nowrap"},z={class:"whitespace-nowrap"},G={class:"flex items-center"},J=S({__name:"index",setup(H){const d=_(!1),i=_(!1),v=_([]),k=_(null),m=async()=>{const{data:r}=await x.get("/api/panel/support/messages");v.value=r.data},V=async()=>{const{data:r}=await x.delete(`/api/panel/support/messages/${k.value.id}`);r.status==200&&(d.value=!1,m(),i.value=!0)};return U(()=>{m()}),(r,o)=>{const f=n("v-chip"),u=n("v-btn"),y=n("v-table"),C=n("v-card-title"),B=n("v-card-text"),N=n("v-spacer"),D=n("v-card-actions"),j=n("v-card"),A=n("v-dialog"),F=n("v-snackbar");return c(),p("div",null,[L,s(y,{"fixed-header":"",height:"700px"},{default:a(()=>[M,e("tbody",null,[(c(!0),p($,null,E(v.value,t=>{var h;return c(),p("tr",{key:t.id},[e("td",null,[e("div",T,g((h=t==null?void 0:t.user)==null?void 0:h.username),1)]),e("td",null,[e("div",q,[t.status=="pending"?(c(),w(f,{key:0,color:"warning","text-color":"white"},{default:a(()=>[l(" در حال انتظار ")]),_:1})):b("",!0),t.status=="answered"?(c(),w(f,{key:1,color:"green","text-color":"white"},{default:a(()=>[l(" پاسخ داده شده ")]),_:1})):b("",!0)])]),e("td",null,[e("div",z,g(t==null?void 0:t.created_at),1)]),e("td",null,[e("div",G,[s(u,{to:{name:"panel-messages-edit",params:{id:t.id}},"prepend-icon":"mdi-pencil-box-outline",class:"mr-4"},{default:a(()=>[l(" مشاهده ")]),_:2},1032,["to"])])])])}),128))])]),_:1}),s(A,{modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=t=>d.value=t),persistent:"",width:"350px"},{default:a(()=>[s(j,null,{default:a(()=>[s(C,{class:""},{default:a(()=>[l(" آیا از حذف این آیتم اطمینان دارید؟ ")]),_:1}),s(B,null,{default:a(()=>[l("آیا از حذف این آیتم اطمینان دارید؟")]),_:1}),s(D,null,{default:a(()=>[s(N),s(u,{color:"green-darken-1",variant:"text",onClick:o[0]||(o[0]=t=>d.value=!1)},{default:a(()=>[l(" نه ")]),_:1}),s(u,{color:"green-darken-1",onClick:V},{default:a(()=>[l(" بله ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(F,{modelValue:i.value,"onUpdate:modelValue":o[2]||(o[2]=t=>i.value=t),timeout:2e3},{default:a(()=>[l(" پلتفرم با موفقیت حذف شد. ")]),_:1},8,["modelValue"])])}}});export{J as default};

import{d as $,r as c,o as E,c as n,l as p,g as s,w as a,h as x,A as w,f as d,i as e,F as I,m as L,j as l,t as k,e as b,n as V}from"./app-f7aafb9b.js";import{a as M,B as T}from"./index-95bf06ac.js";const q={class:"grid grid-cols-12 gap-4"},z={class:"col-span-12 lg:col-span-12"},G=e("div",{class:"flex justify-between mb-12 items-center"},[e("h2",{class:"text-xl"},"لیست پیام های پشتیبانی")],-1),H=e("thead",null,[e("tr",null,[e("th",{class:"text-right"},"کاربر"),e("th",{class:"text-right"},"وضعیت"),e("th",{class:"text-right"},"زمان ایجاد"),e("th",{class:"text-right"},"عملیات")])],-1),J={class:"whitespace-nowrap"},K={class:"whitespace-nowrap"},O={class:"whitespace-nowrap"},P={class:"flex items-center"},X=$({__name:"index",setup(Q){const v=c(!0),r=c(!1),_=c(!1),m=c([]),y=c(null),f=async()=>{const{data:i}=await w.get("/api/panel/support/messages");m.value=i.data,v.value=!1},B=async()=>{const{data:i}=await w.delete(`/api/panel/support/messages/${y.value.id}`);i.status==200&&(r.value=!1,f(),_.value=!0)};return E(()=>{f()}),(i,o)=>{const h=n("v-chip"),u=n("v-btn"),C=n("v-table"),N=n("v-card-title"),S=n("v-card-text"),D=n("v-spacer"),j=n("v-card-actions"),A=n("v-card"),F=n("v-dialog"),U=n("v-snackbar");return d(),p("div",null,[s(x(T),{animated:"",loading:v.value},{template:a(()=>[e("div",q,[e("div",z,[s(x(M),{variant:"card",class:"h-[300px]"})])])]),default:a(()=>[G,s(C,{"fixed-header":"",height:"700px"},{default:a(()=>[H,e("tbody",null,[(d(!0),p(I,null,L(m.value,t=>{var g;return d(),p("tr",{key:t.id},[e("td",null,[e("div",J,k((g=t==null?void 0:t.user)==null?void 0:g.username),1)]),e("td",null,[e("div",K,[t.status=="pending"?(d(),b(h,{key:0,color:"warning","text-color":"white"},{default:a(()=>[l(" در حال انتظار ")]),_:1})):V("",!0),t.status=="answered"?(d(),b(h,{key:1,color:"green","text-color":"white"},{default:a(()=>[l(" پاسخ داده شده ")]),_:1})):V("",!0)])]),e("td",null,[e("div",O,k(t==null?void 0:t.created_at),1)]),e("td",null,[e("div",P,[s(u,{to:{name:"panel-messages-edit",params:{id:t.id}},"prepend-icon":"mdi-pencil-box-outline",class:"mr-4"},{default:a(()=>[l(" مشاهده ")]),_:2},1032,["to"])])])])}),128))])]),_:1})]),_:1},8,["loading"]),s(F,{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=t=>r.value=t),persistent:"",width:"350px"},{default:a(()=>[s(A,null,{default:a(()=>[s(N,{class:""},{default:a(()=>[l(" آیا از حذف این آیتم اطمینان دارید؟ ")]),_:1}),s(S,null,{default:a(()=>[l("آیا از حذف این آیتم اطمینان دارید؟")]),_:1}),s(j,null,{default:a(()=>[s(D),s(u,{color:"green-darken-1",variant:"text",onClick:o[0]||(o[0]=t=>r.value=!1)},{default:a(()=>[l(" نه ")]),_:1}),s(u,{color:"green-darken-1",onClick:B},{default:a(()=>[l(" بله ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(U,{modelValue:_.value,"onUpdate:modelValue":o[2]||(o[2]=t=>_.value=t),timeout:2e3},{default:a(()=>[l(" پلتفرم با موفقیت حذف شد. ")]),_:1},8,["modelValue"])])}}});export{X as default};

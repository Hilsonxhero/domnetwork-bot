import{d as q,r as c,u as B,p as E,o as F,c as n,l as N,g as e,w as o,f as z,h as d,v as A,i as l,x as m,y as v,E as p,j as V,A as D}from"./app-9a32590d.js";const M=l("div",{class:"mb-6"},[l("h2",{class:"text-xl"},"ایجاد تعرفه")],-1),S={class:"grid grid-cols-12 gap-4"},j={class:"col-span-12"},P={class:"invalid-feedback d-block"},T={class:"col-span-12"},G={class:"invalid-feedback d-block"},H={class:"col-span-12"},I=l("div",null,"تعرفه پیش فرض",-1),J={class:"invalid-feedback d-block"},O=q({__name:"create",setup(K){const f=c(!1),b=c(null),t=c({name:null,content:null,is_default:"0"}),r=c(!1),h=B();E();const k=async w=>{const{valid:a}=await b.value.validate();if(a){f.value=!0;const i=new FormData;i.append("name",t.value.name),i.append("content",t.value.content),i.append("is_default",t.value.is_default);const{data:_}=await D.post("/api/panel/pricing",i);_.status==200&&(r.value=!0,h.push({name:"panel-pricing-index"}))}},x=async()=>{};return F(()=>{x()}),(w,a)=>{const i=n("v-text-field"),_=n("v-textarea"),g=n("v-radio"),y=n("v-radio-group"),C=n("v-btn"),R=n("v-sheet"),U=n("v-snackbar");return z(),N("div",null,[e(R,null,{default:o(()=>[M,e(d(A),{ref_key:"formRef",ref:b,onSubmit:k},{default:o(()=>[l("div",S,[l("div",j,[e(d(m),{mode:"passive",name:"name",rules:"required",label:" نام تعرفه"},{default:o(({field:s})=>[e(i,v({modelValue:t.value.name,"onUpdate:modelValue":a[0]||(a[0]=u=>t.value.name=u),label:"نام تعرفه",variant:"solo-filled",size:"large"},s,{"hide-details":"auto"}),null,16,["modelValue"])]),_:1}),l("div",P,[e(d(p),{name:"name"})])]),l("div",T,[e(d(m),{mode:"passive",name:"content",rules:"required",label:" متن تعرفه"},{default:o(({field:s})=>[e(_,v({modelValue:t.value.content,"onUpdate:modelValue":a[1]||(a[1]=u=>t.value.content=u),label:" متن تعرفه",variant:"solo-filled",size:"large"},s,{"hide-details":"auto"}),null,16,["modelValue"])]),_:1}),l("div",G,[e(d(p),{name:"content"})])]),l("div",H,[e(d(m),{mode:"passive",name:"is_default",rules:"required",label:"تعرفه پیش فرض"},{default:o(({field:s})=>[e(y,v(s,{modelValue:t.value.is_default,"onUpdate:modelValue":a[2]||(a[2]=u=>t.value.is_default=u)}),{label:o(()=>[I]),default:o(()=>[e(g,{label:"می باشد",value:"1"}),e(g,{label:"نمی باشد",value:"0"})]),_:2},1040,["modelValue"])]),_:1}),l("div",J,[e(d(p),{name:"is_default"})])])]),e(C,{loading:f.value,color:"light-blue-accent-4",type:"submit",block:"",class:"mt-2"},{default:o(()=>[V("ایجاد")]),_:1},8,["loading"])]),_:1},512)]),_:1}),e(U,{absolute:"",modelValue:r.value,"onUpdate:modelValue":a[3]||(a[3]=s=>r.value=s),timeout:2e4},{default:o(()=>[V(" تعرفه با موفقیت ایجاد شد. ")]),_:1},8,["modelValue"])])}}});export{O as default};

import{d as $,r,o as j,c as l,l as _,g as e,w as t,h,A as x,f as p,i as a,j as o,F as A,m as F,t as M}from"./app-f7aafb9b.js";import{a as U,B as E}from"./index-95bf06ac.js";const I={class:"grid grid-cols-12 gap-4"},L={class:"col-span-12 lg:col-span-12"},T={class:"flex justify-between mb-12 items-center"},q=a("h2",{class:"text-xl"},"لیست بازه های زمانی",-1),z=a("thead",null,[a("tr",null,[a("th",{class:"text-right"},"نام"),a("th",{class:"text-right"},"عملیات")])],-1),G={class:"whitespace-nowrap"},H={class:"flex items-center"},Q=$({__name:"index",setup(J){const c=r(!1),u=r(!1),v=r(!0),m=r([]),f=r(null),g=async()=>{const{data:s}=await x.get("/api/panel/package/durations");m.value=s.data,v.value=!1},k=s=>{c.value=!0,f.value=s},b=async()=>{const{data:s}=await x.delete(`/api/panel/package/durations/${f.value.id}`);s.status==200&&(c.value=!1,g(),u.value=!0)};return j(()=>{g()}),(s,d)=>{const i=l("v-btn"),w=l("v-table"),V=l("v-card-title"),C=l("v-card-text"),y=l("v-spacer"),B=l("v-card-actions"),S=l("v-card"),D=l("v-dialog"),N=l("v-snackbar");return p(),_("div",null,[e(h(E),{animated:"",loading:v.value},{template:t(()=>[a("div",I,[a("div",L,[e(h(U),{variant:"card",class:"h-[300px]"})])])]),default:t(()=>[a("div",T,[q,e(i,{to:{name:"panel-durations-create"},color:"blue-accent-2"},{default:t(()=>[o(" ایجاد بازه زمانی ")]),_:1})]),e(w,{"fixed-header":"",height:"700px"},{default:t(()=>[z,a("tbody",null,[(p(!0),_(A,null,F(m.value,n=>(p(),_("tr",{key:n.name},[a("td",null,[a("div",G,M(n.name)+" روز ",1)]),a("td",null,[a("div",H,[e(i,{to:{name:"panel-durations-edit",params:{id:n.id}},"prepend-icon":"mdi-pencil-box-outline"},{default:t(()=>[o(" ویرایش ")]),_:2},1032,["to"]),e(i,{onClick:K=>k(n),"prepend-icon":"mdi-trash-can-outline",class:"mr-4"},{default:t(()=>[o(" حذف ")]),_:2},1032,["onClick"])])])]))),128))])]),_:1})]),_:1},8,["loading"]),e(D,{modelValue:c.value,"onUpdate:modelValue":d[1]||(d[1]=n=>c.value=n),persistent:"",width:"350px"},{default:t(()=>[e(S,null,{default:t(()=>[e(V,{class:""},{default:t(()=>[o(" آیا از حذف این آیتم اطمینان دارید؟ ")]),_:1}),e(C,null,{default:t(()=>[o("آیا از حذف این آیتم اطمینان دارید؟")]),_:1}),e(B,null,{default:t(()=>[e(y),e(i,{color:"green-darken-1",variant:"text",onClick:d[0]||(d[0]=n=>c.value=!1)},{default:t(()=>[o(" نه ")]),_:1}),e(i,{color:"green-darken-1",onClick:b},{default:t(()=>[o(" بله ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(N,{modelValue:u.value,"onUpdate:modelValue":d[2]||(d[2]=n=>u.value=n),timeout:2e3},{default:t(()=>[o(" بازه زمانی با موفقیت حذف شد. ")]),_:1},8,["modelValue"])])}}});export{Q as default};

import{d as S,r as i,u as U,n as B,o as C,c as o,l as N,g as t,w as l,A as p,f as A,k as D,j as f,i as r}from"./app-585073a5.js";const M=r("div",{class:"mb-6"},[r("h2",{class:"text-xl"},"ویرایش پکیج")],-1),$=r("div",null,"وضعیت",-1),F=S({__name:"edit",setup(j){const v=i(!1),m=i(null),e=i({name:null,is_active:"active"}),d=i(!1),b=i([n=>n?!0:"نام   پکیج  الزامی می باشد"]),g=U(),_=B(),V=async n=>{const{valid:a}=await m.value.validate();if(a){v.value=!0;const s=new FormData;s.append("name",e.value.name),s.append("is_active",e.value.is_active);const{data:c}=await p.put(`/api/panel/packages/${_.params.id}`,s);c.status==200&&(d.value=!0,g.push({name:"panel-packages-index"}))}},k=async()=>{const{data:n}=await p.get(`/api/panel/packages/${_.params.id}`);e.value.name=n.data.name,e.value.is_active=n.data.is_active.toString()};return C(()=>{k()}),(n,a)=>{const s=o("v-text-field"),c=o("v-radio"),x=o("v-radio-group"),w=o("v-btn"),h=o("v-form"),y=o("v-sheet"),R=o("v-snackbar");return A(),N("div",null,[t(y,null,{default:l(()=>[M,t(h,{ref_key:"formRef",ref:m,"validate-on":"submit",onSubmit:D(V,["prevent"])},{default:l(()=>[t(s,{modelValue:e.value.name,"onUpdate:modelValue":a[0]||(a[0]=u=>e.value.name=u),rules:b.value,label:"نام",density:"compact","single-line":"",variant:"solo"},null,8,["modelValue","rules"]),t(x,{modelValue:e.value.is_active,"onUpdate:modelValue":a[1]||(a[1]=u=>e.value.is_active=u)},{label:l(()=>[$]),default:l(()=>[t(c,{label:"فعال",value:"1"}),t(c,{label:"غیرفعال",value:"0"})]),_:1},8,["modelValue"]),t(w,{loading:v.value,color:"light-blue-accent-4",type:"submit",block:"",class:"mt-2"},{default:l(()=>[f("ویرایش")]),_:1},8,["loading"])]),_:1},8,["onSubmit"])]),_:1}),t(R,{absolute:"",modelValue:d.value,"onUpdate:modelValue":a[2]||(a[2]=u=>d.value=u),timeout:2e4},{default:l(()=>[f(" پکیج با موفقیت ویرایش شد. ")]),_:1},8,["modelValue"])])}}});export{F as default};

import{d as M,r as i,p as U,o as E,c as s,l as m,g as l,w as a,h as p,A as w,f as _,i as e,j as n,F as I,m as L,t as R,e as b,n as V}from"./app-d91952c3.js";import{a as T,B as q}from"./index-992426be.js";const z={class:"grid grid-cols-12 gap-4"},G={class:"col-span-12 lg:col-span-12"},H={class:"flex justify-between mb-12 items-center"},J=e("h2",{class:"text-xl"},"لیست برنامه ها",-1),K=e("thead",null,[e("tr",null,[e("th",{class:"text-right"},"نام"),e("th",{class:"text-right"},"ویدیو"),e("th",{class:"text-right"},"وضعیت"),e("th",{class:"text-right"},"عملیات")])],-1),O={class:"whitespace-nowrap"},P={class:"whitespace-nowrap"},Q=["href"],W={class:"whitespace-nowrap"},X={class:"flex items-center"},ae=M({__name:"index",setup(Y){const f=i(!0),d=i(!1),v=i(!1),u=U(),h=i([]),g=i(null),x=async()=>{const{data:o}=await w.get(`/api/panel/guide/platform/${u.params.id}/clients`);h.value=o.data,f.value=!1},y=o=>{d.value=!0,g.value=o},C=async()=>{const{data:o}=await w.delete(`/api/panel/guide/platform/${u.params.id}/clients/${g.value.id}`);o.status==200&&(d.value=!1,x(),v.value=!0)};return E(()=>{x()}),(o,c)=>{const r=s("v-btn"),k=s("v-chip"),B=s("v-table"),$=s("v-card-title"),S=s("v-card-text"),D=s("v-spacer"),N=s("v-card-actions"),j=s("v-card"),A=s("v-dialog"),F=s("v-snackbar");return _(),m("div",null,[l(p(q),{animated:"",loading:f.value},{template:a(()=>[e("div",z,[e("div",G,[l(p(T),{variant:"card",class:"h-[300px]"})])])]),default:a(()=>[e("div",H,[J,l(r,{to:{name:"panel-platforms-clients-create",params:{id:p(u).params.id}},color:"blue-accent-2"},{default:a(()=>[n(" ایجاد برنامه ")]),_:1},8,["to"])]),l(B,{"fixed-header":"",height:"700px"},{default:a(()=>[K,e("tbody",null,[(_(!0),m(I,null,L(h.value,t=>(_(),m("tr",{key:t.name},[e("td",null,[e("div",O,R(t==null?void 0:t.name),1)]),e("td",null,[e("div",P,[e("a",{class:"text-blue-500",target:"_blank",href:`/${t==null?void 0:t.video}`},"نمایش ویدیو",8,Q)])]),e("td",null,[e("div",W,[t.status=="active"?(_(),b(k,{key:0,color:"green","text-color":"white"},{default:a(()=>[n(" فعال ")]),_:1})):V("",!0),t.status=="inactive"?(_(),b(k,{key:1,color:"warning","text-color":"white"},{default:a(()=>[n(" غیرفعال ")]),_:1})):V("",!0)])]),e("td",null,[e("div",X,[l(r,{to:{name:"panel-platforms-clients-edit",params:{platform:p(u).params.id,id:t.id}},"prepend-icon":"mdi-pencil-box-outline"},{default:a(()=>[n(" ویرایش ")]),_:2},1032,["to"]),l(r,{onClick:Z=>y(t),"prepend-icon":"mdi-trash-can-outline",class:"mr-4"},{default:a(()=>[n(" حذف ")]),_:2},1032,["onClick"])])])]))),128))])]),_:1})]),_:1},8,["loading"]),l(A,{modelValue:d.value,"onUpdate:modelValue":c[1]||(c[1]=t=>d.value=t),persistent:"",width:"350px"},{default:a(()=>[l(j,null,{default:a(()=>[l($,{class:""},{default:a(()=>[n(" آیا از حذف این آیتم اطمینان دارید؟ ")]),_:1}),l(S,null,{default:a(()=>[n("آیا از حذف این آیتم اطمینان دارید؟")]),_:1}),l(N,null,{default:a(()=>[l(D),l(r,{color:"green-darken-1",variant:"text",onClick:c[0]||(c[0]=t=>d.value=!1)},{default:a(()=>[n(" نه ")]),_:1}),l(r,{color:"green-darken-1",onClick:C},{default:a(()=>[n(" بله ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(F,{modelValue:v.value,"onUpdate:modelValue":c[2]||(c[2]=t=>v.value=t),timeout:2e3},{default:a(()=>[n(" برنامه با موفقیت حذف شد. ")]),_:1},8,["modelValue"])])}}});export{ae as default};

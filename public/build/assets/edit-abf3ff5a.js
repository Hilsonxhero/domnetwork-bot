import{d as y,r as t,u as R,n as B,o as C,c as d,l as E,g as a,w as n,A as f,f as F,h as v,q as N,i as o,v as U,x as q,E as A,j as g}from"./app-5f0513f2.js";const D=o("div",{class:"mb-6"},[o("h2",{class:"text-xl"},"ویرایش پلتفرم")],-1),M={class:"grid grid-cols-12 gap-4"},S={class:"col-span-12"},$={class:"invalid-feedback d-block"},P=y({__name:"edit",setup(j){const p=t(!1),i=t(null),s=t({name:null}),r=t(!1);t([l=>l?!0:"نام   پلتفرم  الزامی می باشد"]),t([{state:"فعال",value:"active"},{state:"غیرفعال",value:"inactive"}]);const b=R(),_=B(),h=async l=>{const{valid:e}=await i.value.validate();if(e){p.value=!0;const u=new FormData;u.append("name",s.value.name);const{data:c}=await f.put(`/api/panel/guide/platforms/${_.params.id}`,u);c.status==200&&(r.value=!0,b.push({name:"panel-platforms-index"}))}},x=async()=>{var e;let{data:l}=await f.get(`/api/panel/guide/platforms/${_.params.id}`);s.value.name=(e=l.data)==null?void 0:e.name,i.value.setValues({...s.value})};return C(()=>{x()}),(l,e)=>{const u=d("v-text-field"),c=d("v-btn"),V=d("v-sheet"),k=d("v-snackbar");return F(),E("div",null,[a(V,null,{default:n(()=>[D,a(v(N),{ref_key:"formRef",ref:i,onSubmit:h},{default:n(()=>[o("div",M,[o("div",S,[a(v(U),{mode:"passive",name:"name",rules:"required",label:" نام پلتفرم"},{default:n(({field:m})=>[a(u,q({modelValue:s.value.name,"onUpdate:modelValue":e[0]||(e[0]=w=>s.value.name=w),label:"نام پلتفرم","single-line":"",variant:"solo-filled",size:"large"},m,{"hide-details":"auto"}),null,16,["modelValue"])]),_:1}),o("div",$,[a(v(A),{name:"name"})])])]),a(c,{loading:p.value,color:"light-blue-accent-4",type:"submit",block:"",class:"mt-2"},{default:n(()=>[g("ویرایش")]),_:1},8,["loading"])]),_:1},512)]),_:1}),a(k,{absolute:"",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=m=>r.value=m),timeout:2e4},{default:n(()=>[g(" پلتفرم با موفقیت ویرایش شد. ")]),_:1},8,["modelValue"])])}}});export{P as default};

import{a as A,B as F}from"./index-7bd54db8.js";import{d as M,r as _,o as U,c as n,l as m,g as a,w as t,h as k,A as w,f as o,i as e,j as l,F as E,m as I,t as L,e as v}from"./app-05202554.js";const T={class:"grid grid-cols-12 gap-4"},q={class:"col-span-12 lg:col-span-12"},z={class:"flex justify-between mb-12 items-center"},G=e("h2",{class:"text-xl"},"لیست سرورها",-1),H=e("thead",null,[e("tr",null,[e("th",{class:"text-right"},"نام"),e("th",{class:"text-right"},"وضعیت"),e("th",{class:"text-right"},"پیش فرض"),e("th",{class:"text-right"},"عملیات")])],-1),J={class:"whitespace-nowrap"},K={class:"whitespace-nowrap"},O={class:"whitespace-nowrap"},P={class:"flex items-center"},Y=M({__name:"index",setup(Q){const r=_(!1),p=_(!1),f=_([]),h=_(null),x=async()=>{const{data:c}=await w.get("/api/panel/servers");f.value=c.data,g.value=!1},b=c=>{r.value=!0,h.value=c},g=_(!0),y=async()=>{const{data:c}=await w.delete(`/api/panel/servers/${h.value.id}`);c.success&&(r.value=!1,x(),p.value=!0)};return U(()=>{x()}),(c,d)=>{const i=n("v-btn"),u=n("v-chip"),V=n("v-table"),B=n("v-card-title"),C=n("v-card-text"),S=n("v-spacer"),D=n("v-card-actions"),N=n("v-card"),$=n("v-dialog"),j=n("v-snackbar");return o(),m("div",null,[a(k(F),{animated:"",loading:g.value},{template:t(()=>[e("div",T,[e("div",q,[a(k(A),{variant:"card",class:"h-[300px]"})])])]),default:t(()=>[e("div",z,[G,a(i,{to:{name:"panel-servers-create"},color:"blue-accent-2"},{default:t(()=>[l(" ایجاد سرور ")]),_:1})]),a(V,{"fixed-header":"",height:"700px"},{default:t(()=>[H,e("tbody",null,[(o(!0),m(E,null,I(f.value,s=>(o(),m("tr",{key:s.name},[e("td",null,[e("div",J,L(s.name),1)]),e("td",null,[e("div",K,[s.is_active?(o(),v(u,{key:0,color:"green","text-color":"white"},{default:t(()=>[l(" فعال ")]),_:1})):(o(),v(u,{key:1,color:"red","text-color":"white"},{default:t(()=>[l(" غیرفعال ")]),_:1}))])]),e("td",null,[e("div",O,[s.is_default?(o(),v(u,{key:0,color:"green","text-color":"white"},{default:t(()=>[l(" می باشد ")]),_:1})):(o(),v(u,{key:1,"text-color":"white"},{default:t(()=>[l(" نمی باشد ")]),_:1}))])]),e("td",null,[e("div",P,[a(i,{to:{name:"panel-servers-edit",params:{id:s.id}},"prepend-icon":"mdi-pencil-box-outline"},{default:t(()=>[l(" ویرایش ")]),_:2},1032,["to"]),a(i,{onClick:R=>b(s),"prepend-icon":"mdi-trash-can-outline",class:"mr-4"},{default:t(()=>[l(" حذف ")]),_:2},1032,["onClick"])])])]))),128))])]),_:1})]),_:1},8,["loading"]),a($,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=s=>r.value=s),persistent:"",width:"350px"},{default:t(()=>[a(N,null,{default:t(()=>[a(B,{class:""},{default:t(()=>[l(" آیا از حذف این آیتم اطمینان دارید؟ ")]),_:1}),a(C,null,{default:t(()=>[l("آیا از حذف این آیتم اطمینان دارید؟")]),_:1}),a(D,null,{default:t(()=>[a(S),a(i,{color:"green-darken-1",variant:"text",onClick:d[0]||(d[0]=s=>r.value=!1)},{default:t(()=>[l(" نه ")]),_:1}),a(i,{color:"green-darken-1",onClick:y},{default:t(()=>[l(" بله ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(j,{modelValue:p.value,"onUpdate:modelValue":d[2]||(d[2]=s=>p.value=s),timeout:2e3},{default:t(()=>[l(" سرور با موفقیت حذف شد. ")]),_:1},8,["modelValue"])])}}});export{Y as default};

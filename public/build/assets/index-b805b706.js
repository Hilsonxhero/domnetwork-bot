import{d as U,r as _,o as j,c as n,l as v,h as e,g as s,w as t,A as b,f as r,i as l,F as E,m as L,t as u,e as V}from"./app-d865d607.js";const T={class:"flex justify-between mb-12 items-center"},q=e("h2",{class:"text-xl"},"لیست سرویس ها",-1),z=e("thead",null,[e("tr",null,[e("th",{class:"text-right"},"سرور"),e("th",{class:"text-right"},"بازه زمانی"),e("th",{class:"text-right"},"پکیج"),e("th",{class:"text-right"},"قیمت"),e("th",{class:"text-right"},"وضعیت"),e("th",{class:"text-right"},"عملیات")])],-1),G={class:"whitespace-nowrap"},H={class:"whitespace-nowrap"},I={class:"whitespace-nowrap"},J={class:"whitespace-nowrap"},K={class:"whitespace-nowrap"},O={class:"flex items-center"},W=U({__name:"index",setup(P){const d=_(!1),p=_(!1),h=_([]),m=_(null),f=async()=>{const{data:o}=await b.get("/api/panel/services");h.value=o.data},y=o=>{d.value=!0,m.value=o},C=async()=>{const{data:o}=await b.delete(`/api/panel/services/${m.value.id}`);o.status==200&&(d.value=!1,f(),p.value=!0)};return j(()=>{f()}),(o,c)=>{const i=n("v-btn"),x=n("v-chip"),B=n("v-table"),D=n("v-card-title"),N=n("v-card-text"),S=n("v-spacer"),$=n("v-card-actions"),A=n("v-card"),F=n("v-dialog"),M=n("v-snackbar");return r(),v("div",null,[e("div",T,[q,s(i,{to:{name:"panel-services-create"},color:"blue-accent-2"},{default:t(()=>[l(" ایجاد سرویس ")]),_:1})]),s(B,{"fixed-header":"",height:"700px"},{default:t(()=>[z,e("tbody",null,[(r(!0),v(E,null,L(h.value,a=>{var g,w,k;return r(),v("tr",{key:a.name},[e("td",null,[e("div",G,u((g=a.server)==null?void 0:g.name),1)]),e("td",null,[e("div",H,u((w=a.package_duration)==null?void 0:w.name),1)]),e("td",null,[e("div",I,u((k=a.package)==null?void 0:k.name),1)]),e("td",null,[e("div",J,u(a.price)+" تومان ",1)]),e("td",null,[e("div",K,[a.status=="active"?(r(),V(x,{key:0,color:"green","text-color":"white"},{default:t(()=>[l(" فعال ")]),_:1})):(r(),V(x,{key:1,color:"red","text-color":"white"},{default:t(()=>[l(" غیرفعال ")]),_:1}))])]),e("td",null,[e("div",O,[s(i,{to:{name:"panel-services-edit",params:{id:a.id}},"prepend-icon":"mdi-pencil-box-outline"},{default:t(()=>[l(" ویرایش ")]),_:2},1032,["to"]),s(i,{onClick:Q=>y(a),"prepend-icon":"mdi-trash-can-outline",class:"mr-4"},{default:t(()=>[l(" حذف ")]),_:2},1032,["onClick"])])])])}),128))])]),_:1}),s(F,{modelValue:d.value,"onUpdate:modelValue":c[1]||(c[1]=a=>d.value=a),persistent:"",width:"350px"},{default:t(()=>[s(A,null,{default:t(()=>[s(D,{class:""},{default:t(()=>[l(" آیا از حذف این آیتم اطمینان دارید؟ ")]),_:1}),s(N,null,{default:t(()=>[l("آیا از حذف این آیتم اطمینان دارید؟")]),_:1}),s($,null,{default:t(()=>[s(S),s(i,{color:"green-darken-1",variant:"text",onClick:c[0]||(c[0]=a=>d.value=!1)},{default:t(()=>[l(" نه ")]),_:1}),s(i,{color:"green-darken-1",onClick:C},{default:t(()=>[l(" بله ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(M,{modelValue:p.value,"onUpdate:modelValue":c[2]||(c[2]=a=>p.value=a),timeout:2e3},{default:t(()=>[l(" سرویس با موفقیت حذف شد. ")]),_:1},8,["modelValue"])])}}});export{W as default};

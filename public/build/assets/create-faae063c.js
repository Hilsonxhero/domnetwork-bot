import{d as R,r as i,u as h,p as B,o as N,c as u,l as S,g as s,w as t,A as _,f as A,k as D,i as n,j as f}from"./app-9a32590d.js";const M=n("div",{class:"mb-6"},[n("h2",{class:"text-xl"},"ایجاد سرور")],-1),j={class:"grid grid-cols-12 gap-2"},E={class:"col-span-12"},F={class:"col-span-12 lg:col-span-6"},T={class:"col-span-12 lg:col-span-6"},$={class:"col-span-12 lg:col-span-4"},q={class:"col-span-12 lg:col-span-4"},z=n("div",null,"وضعیت",-1),G=n("div",null,"سرور پیش فرض",-1),J=R({__name:"create",setup(H){const p=i(!1),m=i(null),e=i({name:null,username:null,password:null,address:null,inbound:null,is_active:"1",is_default:"0"}),r=i(!1),b=i([v=>v?!0:"نام  سرور  الزامی می باشد"]),V=h(),g=B(),w=async v=>{const{valid:l}=await m.value.validate();if(l){p.value=!0;const o=new FormData;o.append("name",e.value.name),o.append("username",e.value.username),o.append("password",e.value.password),o.append("address",e.value.address),o.append("inbound",e.value.inbound),o.append("is_active",e.value.is_active),o.append("is_default",e.value.is_default);const{data:d}=await _.post("/api/panel/servers",o);d.status==200&&(r.value=!0,V.push({name:"panel-servers-index"}))}},x=async()=>{await _.get(`/api/panel/servers/${g.params.id}`)};return N(()=>{x()}),(v,l)=>{const o=u("v-text-field"),d=u("v-radio"),c=u("v-radio-group"),y=u("v-btn"),U=u("v-form"),k=u("v-sheet"),C=u("v-snackbar");return A(),S("div",null,[s(k,null,{default:t(()=>[M,s(U,{ref_key:"formRef",ref:m,"validate-on":"submit",onSubmit:D(w,["prevent"])},{default:t(()=>[n("div",j,[n("div",E,[s(o,{modelValue:e.value.name,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.name=a),rules:b.value,label:"نام",density:"compact","single-line":"",variant:"solo"},null,8,["modelValue","rules"])]),n("div",F,[s(o,{modelValue:e.value.username,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.username=a),label:"نام کاربری سرور",density:"compact","single-line":"",variant:"solo"},null,8,["modelValue"])]),n("div",T,[s(o,{modelValue:e.value.password,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.password=a),label:" رمز عبور سرور",density:"compact","single-line":"",variant:"solo"},null,8,["modelValue"])]),n("div",$,[s(o,{modelValue:e.value.address,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.address=a),label:"آدرس سرور",density:"compact","single-line":"",variant:"solo"},null,8,["modelValue"])]),n("div",q,[s(o,{modelValue:e.value.inbound,"onUpdate:modelValue":l[4]||(l[4]=a=>e.value.inbound=a),label:"inbound id",density:"compact","single-line":"",variant:"solo"},null,8,["modelValue"])])]),s(c,{modelValue:e.value.is_active,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.is_active=a)},{label:t(()=>[z]),default:t(()=>[s(d,{label:"فعال",value:"1"}),s(d,{label:"غیرفعال",value:"0"})]),_:1},8,["modelValue"]),s(c,{modelValue:e.value.is_default,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.is_default=a)},{label:t(()=>[G]),default:t(()=>[s(d,{label:"می باشد",value:"1"}),s(d,{label:"نمی باشد",value:"0"})]),_:1},8,["modelValue"]),s(y,{loading:p.value,color:"light-blue-accent-4",type:"submit",block:"",class:"mt-2"},{default:t(()=>[f("ایجاد ")]),_:1},8,["loading"])]),_:1},8,["onSubmit"])]),_:1}),s(C,{absolute:"",modelValue:r.value,"onUpdate:modelValue":l[7]||(l[7]=a=>r.value=a),timeout:2e4},{default:t(()=>[f(" سرور با موفقیت ایجاد شد. ")]),_:1},8,["modelValue"])])}}});export{J as default};
